# Стиль именования коммитов

дата:: 15.05.2023\
версия:: 0.1

---

### Оглавление

- [Описание](#Описание)
  - [Что такое "коммит"?](#what-is-commit)
  - [Почему сообщения коммитов важны?](#why-is-important)
  - [Best practice советы](#best-practice)
- [Цели стандарта](#Цели)
- [Формат сообщений коммитов](#Синтаксис)
- [Примеры сообщений](#Примеры)
- [Источники](#Источники)

---

<h1 id="Описание">Описание</h1>

Этот документ, описывающий стиль написания ясных сообщений для т.н. "коммитов", содержит _best-practice_ советы и _методы_ по написанию сообщений для последних.

Также этот документ по большей части соглашение, т.к. в его росте (что **важно**, а не строительстве[^1]) участвует не один человек, а некое множество. В связи с этим сие соглашение подвержено частому изменению.

Как дополнение к выше сказанному, это соглашение может помочь прояснить, что из себя представляют объекты `git'a` - коммиты, почему важно писать хорошие сообщения, узнать лучшие практики и советы по созданию и (пере)написанию истории коммитов.

<h2 id="what-is-commit">Что такое "коммит"?</h2>

Простыми словами, коммит - это своего рода снимок состояния файлов, записанные за какой-то преиод времени в локальном репозитории.

"Состояние" файлов, можно интерпретировать по-разному. Существует заблуждение о том, что коммит хранит лишь _разницу_ между состояниями файлов, т.е. хранит _изменения_ (что верно, ведь CVS хранять т.н `diff` патчи для файлов, которые уходят в корни UNIX системы, но это не верно для `git`). Коммиты [хранят состояния обо всех файлов](https://git-scm.com/book/ru/v2/Git-%D0%B8%D0%B7%D0%BD%D1%83%D1%82%D1%80%D0%B8-%D0%9E%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D1%8B-Git) в т.н. `blob` (**b**inary **ob**jects - _bob_ -> _blob_ "бактерия", "капля") файлах.

<h2 id="why-is-important">Почему сообщения коммитов важны?</h2>

- Как и в романе, серия коммитов имеет повествовательную структуру, которая контекстуализирует «сюжет» вашего изменения в коде, что помогает держать картину разработки в голове
- Автоматически создаваемые `CHANGELOG’и` (о них позже)
- Коммуникация о характере изменения между товарищами по команде, общественностью и другими заинтересованными сторонами
- Людям проще участвовать в проекте, потому что им доступна более структурированная история коммитов
- Ускоряют и упрощает проверку кода
- Помогают в пониманий изменений
- Помогают объяснить вопросы, которые не могут быть описаны только кодом
- Поможет будущим разработчикам разобраться, почему и как были сделаны изменения, облегчив поиск и устранение ошибок
- Экономят время и нервы (головняка меньше), не больше и не меньше

<h2 id="best-practice">Best practice советы</h2>

**Данный под-топик описывает общие советы ведения истории коммитов, а не те, что указаны стандартом.**

### Маленький коммит? - отлично!

Хорошей практикой считается делать множество атомарных коммитов, т.е. маленьких, которые отвечают за одну конкретную вещь. Даже если вы изменили одну строку (не нужно возводить данное понятие в абсалют, если вы коммитите каждый изменённый символ - вы больной)

### Каждый коммит, должен рассказать почему он появился на свет

Каждое сообщения коммита должно обоснованно описывать изменения, которые попали в этот коммит. Также коммит не должен оставлять после себя таких вопросов как: `А зачем это было сделано?`, `Почему это было необходимо?`, `Что было сделано в итоге?`

### Ограничение для сообщения коммита

[Рекомендуется](https://git-scm.com/book/ru/v2/%D0%A0%D0%B0%D1%81%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D1%91%D0%BD%D0%BD%D1%8B%D0%B9-Git-%D0%A3%D1%87%D0%B0%D1%81%D1%82%D0%B8%D0%B5-%D0%B2-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B5) использовать не более 50 символов для заголовка, а также не более 72 символа для тела сообщения коммита.

### Заголовок отдельно от тела сообщения

Как правило коммиты имеют заголовок и тело. Для правильного отображения сообщений коммитов сторонними интрументами строго рекомендуется делать отспут заголовка от тела сообщения коммита:

```
# ХОРОШО
<Заголовок коммита #9832729385>

<Тело коммита, которое описывает изменения>
```

```
# ПЛОХО
<Заголовок коммита #9832729385>
<Тело коммита, которое описывает изменения>
```

### Используйте повелительное наклонение

```
# ХОРОШО
Use InventoryBackendPool to retrieve inventory backend
```

```
# ПЛОХО
Used InventoryBackendPool to retrieve inventory backend
```

_Но зачем использовать повелительное наклонение?_

Сообщение коммита описывает, что конкретно **делают** зафиксированные изменения, его конечный результат, а не что было сделано.

### Не ставьте точку в конце заголовка.

Так как заголовок должен описывать сами изменения, то важно, чтобы он был емким и коротким. В связи с этим такой юнит как `.` (точка) не совсем уместен.

### Оговаривать проблему в коммите

Как правило коммиты несут в себе изменения кода, которые были сделаны для устранения ошибок и т.п. Но читающий историю коммитов не будет иметь представления о них, если конечно не указывать какую проблему решает данный коммит). Поэтому если изменения решают чрезвычайную багу, то это должно быть оговарино в сообщении коммита, т.е. должна быть расписана проблема, которая возникла до устранения этим\* коммитом.

### Избегать сообщений без какого-либо контекста

```
# ПЛОХО
Fix this

Fix stuff

It should work now

Change stuff

Adjust css
```

### `git push --force` не надо

Если вы не знаете что делаете и к чему это приведёт, не используйте `git push --force`, т.к., если кратко, то она перезатирает удалённый репозиторий **вашим** локальным репозиторием. Т.е. то, что было у вас - стало общее, а то, что было общее - затирается в пространстве и времени.

Так что запомните! Если вы будете придерживаться данного совета, то всё будет хорошо!

Если не будете, люди возненавидят вас, от вас отвернуться друзья, ваша семья станет вас презирать, у вас будет пониженная мотивация, деградация, смерть. И гарантирую, что я, тот, кто сейчас клацает это, сможет обеспечить вам последние точно.

---

<h1 id="Цели">Цели</h1>

---

<h1 id="Синтаксис">Синтаксис</h1>

---

<h1 id="Примеры">Примеры</h1>

---

<h1 id="Источники">Источники</h1>

[^1]: Под данным выражением следует понимать, что процесс написание этого стандарта - это не чётко выверенный план, а это, скорее всего, импровизационное выращивание стандарта на почве тех проблем, которые будут возникать в процессе написания коммитов. Подобно _программам_, это документ _выращивается, а не строиться_.
